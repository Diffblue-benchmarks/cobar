# This file has been automatically pushed to all dashboard benchmarks (except for Java Demo).
# All changes made to this file should be propagated to all dashboard benchmarks. Do not change this file individually!  
buildCmd: mvn -e -X -Dmaven.test.skip=true compile
testCmd:	true
skipVerification: true
exceptionJson: true
cbmcArguments:
  java-version: 6
  java-max-vla-length: 100000
  java-load-class: 
    - java.io.IOException
    - javax.xml.parsers.ParserConfigurationException
    - org.xml.sax.SAXException
    - java.lang.IllegalAccessException
    - java.lang.reflect.InvocationTargetException
    - java.lang.ClassNotFoundException
    - java.io.UnsupportedEncodingException
    - java.lang.Exception
    - java.lang.InstantiationException
    - java.security.NoSuchAlgorithmException
    - java.sql.SQLNonTransientException
    - java.sql.SQLSyntaxErrorException
    - java.lang.CloneNotSupportedException
    - com.alibaba.cobar.config.util.ConfigException
    - java.lang.InterruptedException  
  java-stub-specified-exceptions-file: 'dependency-exceptions.json'
phases:
-
#0 Pretty tests. If timeout then go to #3
 timeout: 300
 cbmcArguments:
   classpath: '/tools/cbmc/models-simple-overlay.jar:/tools/cbmc/models.jar:.'
   depth: 1500
   java-assume-inputs-non-null: true
   max-nondet-array-length: 10
   max-nondet-string-length: 10
   string-printable: true
   throw-runtime-exceptions: false
   unwind: 1
 nextPhase:
   not_analyzed: null
   time_out: 3
-
#1 Increased values, allow null. If timeout then go to #3
 timeout: 300
 cbmcArguments:
   classpath: '/tools/cbmc/models-simple-overlay.jar:/tools/cbmc/models.jar:.'
   depth: 1500
   java-assume-inputs-non-null: false
   max-nondet-array-length: 20
   max-nondet-string-length: 50
   string-printable: true
   throw-runtime-exceptions: false
   unwind: 2
 nextPhase:
   time_out: 3
-
#2 Increased values, allow exceptions
 timeout: 300
 cbmcArguments:
   classpath: '/tools/cbmc/models.jar:.'
   depth: 3000
   java-assume-inputs-non-null: false
   max-nondet-array-length: 30
   max-nondet-string-length: 100
   string-printable: false
   throw-runtime-exceptions: true
   unwind: 3
-
#3 Fallback phase - copy of #2 with single-path symex, unbounded unwind and depth, lower timeout
 timeout: 100
 cbmcArguments:
   classpath: '/tools/cbmc/models.jar:.'
   depth: false
   java-assume-inputs-non-null: false
   max-nondet-array-length: 30
   max-nondet-string-length: 100
   paths: 'fifo'
   string-printable: false
   throw-runtime-exceptions: true
   unwind: false
-
#4 Fallback phase - copy of #0 with load-containing-class-only
 timeout: 300
 cbmcArguments:
   classpath: '/tools/cbmc/models-simple-overlay.jar:/tools/cbmc/models.jar:.'
   depth: 1500
   java-assume-inputs-non-null: true
   load-containing-class-only: true
   max-nondet-array-length: 10
   max-nondet-string-length: 10
   string-printable: true
   throw-runtime-exceptions: false
   unwind: 1
-
#5 Fallback phase - copy of #2 with load-containing-class-only
 timeout: 300
 cbmcArguments:
   classpath: '/tools/cbmc/models.jar:.'
   depth: 3000
   java-assume-inputs-non-null: false
   load-containing-class-only: true
   max-nondet-array-length: 30
   max-nondet-string-length: 100
   string-printable: false
   throw-runtime-exceptions: true
   unwind: 3
-
#6 Fallback phase - copy of #0 with single-function-only
 timeout: 300
 cbmcArguments:
   classpath: '/tools/cbmc/models-simple-overlay.jar:/tools/cbmc/models.jar:.'
   depth: 1500
   java-assume-inputs-non-null: true
   max-nondet-array-length: 10
   max-nondet-string-length: 10
   single-function-only: true
   string-printable: true
   throw-runtime-exceptions: false
   unwind: 1
-
#7 Fallback phase - copy of #2 with single-function-only
 timeout: 300
 cbmcArguments:
   classpath: '/tools/cbmc/models.jar:.'
   depth: 3000
   java-assume-inputs-non-null: false
   max-nondet-array-length: 30
   max-nondet-string-length: 100
   single-function-only: true
   string-printable: false
   throw-runtime-exceptions: true
   unwind: 3
units:
  # Target Coverage: Unknown %
  - target:
    - dir: server/target/classes
      file: com/alibaba/cobar/config/util/ReflectionProvider.class
      sourceDir: server/src/main/config
      sourceFile: com/alibaba/cobar/config/util/ReflectionProvider.java
    # Child of ReflectionProvider.class
    # Child Coverage: Unknown %
    - dir: server/target/classes
      file: com/alibaba/cobar/config/util/ObjectAccessException.class
      sourceDir: server/src/main/config
      sourceFile: com/alibaba/cobar/config/util/ObjectAccessException.java
    # Child of ReflectionProvider.class
    # Child Coverage: Unknown %
    - dir: server/target/classes
      file: com/alibaba/cobar/config/util/JVMInfo.class
      sourceDir: server/src/main/config
      sourceFile: com/alibaba/cobar/config/util/JVMInfo.java
    # Child of ReflectionProvider.class
    # Child Coverage: Unknown %
    - dir: server/target/classes
      file: com/alibaba/cobar/config/util/FieldDictionary.class
      sourceDir: server/src/main/config
      sourceFile: com/alibaba/cobar/config/util/FieldDictionary.java
    # Child of ReflectionProvider.class
    # Child Coverage: Unknown %
    - dir: server/target/classes
      file: com/alibaba/cobar/config/util/Visitor.class
      sourceDir: server/src/main/config
      sourceFile: com/alibaba/cobar/config/util/Visitor.java
   # Target Coverage: Unknown %
  - target:
    - dir: server/target/classes
      file: com/alibaba/cobar/config/loader/xml/XMLRuleLoader.class
      sourceDir: server/src/main/config
      sourceFile: com/alibaba/cobar/config/loader/xml/XMLRuleLoader.java
    # Child of XMLRuleLoader.class
    # Child Coverage: Unknown %
    - dir: server/target/classes
      file: com/alibaba/cobar/config/model/rule/RuleAlgorithm.class
      sourceDir: server/src/main/config
      sourceFile: com/alibaba/cobar/config/model/rule/RuleAlgorithm.java
    # Child of XMLRuleLoader.class
    # Child Coverage: Unknown %
    - dir: server/target/classes
      file: com/alibaba/cobar/util/SplitUtil.class
      sourceDir: server/src/main/server
      sourceFile: com/alibaba/cobar/util/SplitUtil.java
    # Child of XMLRuleLoader.class
    # Child Coverage: Unknown %
    - dir: server/target/classes
      file: com/alibaba/cobar/config/util/ConfigUtil.class
      sourceDir: server/src/main/config
      sourceFile: com/alibaba/cobar/config/util/ConfigUtil.java
    # Child Coverage: Unknown %
    - dir: server/target/classes
      file: com/alibaba/cobar/config/util/ConfigException.class
      sourceDir: server/src/main/config
      sourceFile: com/alibaba/cobar/config/util/ConfigException.java
    # Child of XMLRuleLoader.class
    # Child Coverage: Unknown %
    - dir: server/target/classes
      file: com/alibaba/cobar/config/model/rule/RuleConfig.class
      sourceDir: server/src/main/config
      sourceFile: com/alibaba/cobar/config/model/rule/RuleConfig.java